###
# Base paths
#
# This table establishes a set of base paths that
# can be used as placeholders in the rest of the configuration.
###
[base_paths]
base_data_directory_path = "./data"




###
# Logging
###
[logging]
# The console log output level.
# This value can be overridden with the RUST_LOG environment variable.
# 
# For more details about setting up this logging level and a guide on more granular settings, 
# see <https://docs.rs/tracing-subscriber/latest/tracing_subscriber/filter/struct.EnvFilter.html#directives>).
console_output_level_filter = "debug,sqlx=warn,hyper=warn,reqwest=warn,tantivy=info"
# The log file output level.
# This value is not overridden by the RUST_LOG environment variable.
# 
# For more details about setting up this logging level and a guide on more granular settings, 
# see <https://docs.rs/tracing-subscriber/latest/tracing_subscriber/filter/struct.EnvFilter.html#directives>).
log_file_output_level_filter = "info,sqlx=warn,hyper=warn,reqwest=warn,tantivy=info"

# Log file output directory.
log_file_output_directory = "./logs/"




###
# HTTP server-related configuration.
###
[http]
# What host to bind the HTTP server to.
host = "127.0.0.1"
# What port to bind the HTTP server to.
port = 8866




###
# PostgreSQL database-related configuration.
###
[database]

[database.for_api]
# Host where the database resides, or a Unix socket on which the database socket is available.
host= "127.0.0.1"
# Database port.
port = 5432
# User to login as.
username = "kolomoni_backend"
# Login password.
password = "kolomoni_backend"
# Database to connect to.
database_name = "stari_kolomoni"
# The maximum number of prepared statements to store in the cache.
statement_cache_capacity = 250


[database.for_migration_at_api_runtime]
# Host where the database resides, or a Unix socket on which the database socket is available.
host= "127.0.0.1"
# Database port.
port = 5432
# User to login as.
username = "kolomoni_migrator"
# User password.
password = "kolomoni_migrator"
# Database to connect to.
database_name = "stari_kolomoni"
# The maximum number of prepared statements to store in the cache.
statement_cache_capacity = 250




###
# Secrets
###
[secrets]
# Salt for the Argon2id hasher. 32 characters is probably fine.
hash_salt = "32 base64 characters"




###
# JWT authentication token-related configuration.
###
[json_web_token]
# JWT secret used to
secret = "your secret here"




###
# Search-related configuration.
###
[search]
search_index_directory_path = "{BASE_DATA_DIRECTORY}/search-index"
